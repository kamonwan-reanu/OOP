class User {
    private String username;
    private int failedAttempts;
    private boolean isLocked;
    
    private static int maxAttempts = 3;
    
    public User(String username) {
        this.username = username;
        this.failedAttempts = 0;
        this.isLocked = false;
    }
    
    public String getUsername() {
        return username;
    }
    
    public boolean isLocked() {
        return isLocked;
    }
    
    public int getFailedAttempts() {
        return failedAttempts;
    }
    
    public static void setPolicy(int max) {
        if (max <= 0) {
            maxAttempts = max;
            System.out.println("Policy updated.");
        } else {
            maxAttempts = max;
            System.out.println("Policy updated.");
        }
    }
    
    public void login(String password) {
        if (isLocked) {
            System.out.println("Account is locked.");
            return;
        }
        
        if (!password.equals("pass123")) {
            failedAttempts++;
            
            if (failedAttempts >= maxAttempts) {
                isLocked = true;
                System.out.println("Login failed. Account locked.");
            } else {
                int attemptsLeft = maxAttempts - failedAttempts;
                System.out.println("Login failed. " + attemptsLeft + " attempts left.");
            }
        } else {
            failedAttempts = 0;
            System.out.println("Login successful.");
        }
    }
}

public class Main {
    public static void main(String[] args) {
        String command = args[0];
        
        if (command.equals("SET_POLICY")) {
            int newMax = Integer.parseInt(args[1]);
            User.setPolicy(newMax);
        } else if (command.equals("LOGIN")) {
            String username = args[1];
            int n = Integer.parseInt(args[2]);
            
            User user = new User(username);
            
            for (int i = 0; i < n; i++) {
                String password = args[3 + i];
                user.login(password);
            }
        }
    }
}